{"version":3,"file":"page-2.js","sources":["../src/js/header-nav.js","../src/page-2.html?html-proxy&index=1.js","../src/js/components/page2.js"],"sourcesContent":["const path = window.location.pathname;\n\nconst home = document.querySelector('[data-nav=\"home\"]');\nconst fav = document.querySelector('[data-nav=\"favorites\"]');\n\nhome?.classList.remove('active');\nfav?.classList.remove('active');\n\nif (path.endsWith('page-2.html')) {\n  fav?.classList.add('active');\n} else {\n  home?.classList.add('active');\n}\n","\n  import { initRatingModal } from \"./js/components/rating-modal.js\";\n  initRatingModal();\n","import { api } from '../api/yourEnergyApi.js';\nimport { openExerciseModal } from './exerciseModal.js';\nimport { initMobileMenu } from './mobileMenu.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initMobileMenu();\n});\n\n\nconst LS_KEY = 'yourEnergy:favorites';\n\n// âœ… Vite-friendly trash icon\nconst TRASH_SRC = new URL('../../img/trash.png', import.meta.url).href;\n\nconst listEl = document.querySelector('#favorites-list');\nconst rightEl = document.getElementById('favorites-right');\n\n// ========================\n// Favorites helpers\n// ========================\nfunction getFavs() {\n  try {\n    const raw = localStorage.getItem(LS_KEY);\n    const arr = raw ? JSON.parse(raw) : [];\n    return Array.isArray(arr) ? arr : [];\n  } catch {\n    return [];\n  }\n}\n\nfunction saveFavs(arr) {\n  localStorage.setItem(LS_KEY, JSON.stringify(arr));\n  window.dispatchEvent(new CustomEvent('favorites:changed'));\n}\n\nfunction removeFav(id) {\n  const next = getFavs().filter(x => x?._id !== id);\n  saveFavs(next);\n}\n\n// ========================\n// Quote loader (Favorites left card)\n// ========================\nasync function loadFavoriteQuote() {\n  const textEl = document.getElementById('fav-quote-text');\n  const authorEl = document.getElementById('fav-quote-author');\n  if (!textEl) return;\n\n  textEl.textContent = 'Loading quote...';\n  if (authorEl) authorEl.textContent = '';\n\n  try {\n    // ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÑƒÑ”Ð¼Ð¾ 2 Ñ‚Ð¸Ð¿Ð¾Ð²Ñ– Ð½Ð°Ð·Ð²Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ñƒ Ð· Ð²Ð°ÑˆÐ¾Ð³Ð¾ api\n    let data = null;\n\n    if (typeof api?.getQuote === 'function') {\n      data = await api.getQuote();\n    } else if (typeof api?.getQuoteOfTheDay === 'function') {\n      data = await api.getQuoteOfTheDay();\n    } else {\n      throw new Error('Quote method not found in api. Need api.getQuote() or api.getQuoteOfTheDay()');\n    }\n\n    // ÐŸÑ–Ð´ Ñ€Ñ–Ð·Ð½Ñ– Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ Ð²Ñ–Ð´Ð¿Ð¾Ð²Ñ–Ð´Ñ–\n    const text = data?.quote || data?.text || data?.content || data?.message;\n    const author = data?.author || data?.name;\n\n    textEl.textContent = text || 'No quote available';\n    if (authorEl) authorEl.textContent = author ? `â€” ${author}` : '';\n  } catch (err) {\n    console.error('âŒ Quote load failed:', err);\n    textEl.textContent = 'Failed to load quote. Please try again later.';\n    if (authorEl) authorEl.textContent = '';\n  }\n}\n\n// ========================\n// Render favorites list + empty state\n// ========================\nfunction renderFavorites() {\n  if (!listEl) return;\n\n  const favs = getFavs();\n  listEl.innerHTML = '';\n\n  const isEmpty = favs.length === 0;\n\n  // âœ… empty-state ÑÐº Ð½Ð° Ð¼Ð°ÐºÐµÑ‚Ñ–: Ð¿Ð¾ÐºÐ°Ð·ÑƒÑ”Ð¼Ð¾ Ñ‚ÐµÐºÑÑ‚ Ð¾ÐºÑ€ÐµÐ¼Ð¸Ð¼ Ð±Ð»Ð¾ÐºÐ¾Ð¼ Ñ‡ÐµÑ€ÐµÐ· ÐºÐ»Ð°Ñ\n  if (rightEl) rightEl.classList.toggle('is-empty', isEmpty);\n\n  if (isEmpty) return;\n\n  listEl.innerHTML = favs\n    .map(\n      ex => `\n      <li class=\"fav-exercise\" data-id=\"${ex._id}\">\n        <div class=\"fav-exercise__top\">\n          <span class=\"fav-exercise__badge\">WORKOUT</span>\n\n          <button class=\"fav-exercise__trash\" type=\"button\" data-remove-fav aria-label=\"Remove from favorites\">\n            <img class=\"fav-exercise__trash-icon\" src=\"${TRASH_SRC}\" alt=\"\" aria-hidden=\"true\" />\n          </button>\n\n          <button class=\"fav-exercise__start\" type=\"button\">Start â†’</button>\n        </div>\n\n        <h3 class=\"fav-exercise__title\">${ex.name}</h3>\n\n        <p class=\"fav-exercise__meta\">\n          Burned calories: ${ex.burnedCalories} / 3 min Â· Target: ${ex.target}\n        </p>\n      </li>\n    `\n    )\n    .join('');\n}\n\n// ========================\n// Click handlers\n// - trash => remove\n// - card/start => open modal\n// ========================\nlistEl?.addEventListener('click', e => {\n  // ðŸ—‘ remove (Ð½Ðµ Ð²Ñ–Ð´ÐºÑ€Ð¸Ð²Ð°Ñ‚Ð¸ Ð¼Ð¾Ð´Ð°Ð»ÐºÑƒ)\n  const trashBtn = e.target.closest('[data-remove-fav]');\n  if (trashBtn) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const card = trashBtn.closest('.fav-exercise');\n    const id = card?.dataset?.id;\n    if (!id) return;\n\n    removeFav(id); // Ð²Ð¸ÐºÐ»Ð¸Ñ‡Ðµ favorites:changed => renderFavorites()\n    return;\n  }\n\n  // open modal\n  const card = e.target.closest('.fav-exercise');\n  if (!card) return;\n\n  const id = card.dataset.id;\n  if (!id) return;\n\n  openExerciseModal(id);\n});\n\n// ========================\n// Sync on changes\n// ========================\nwindow.addEventListener('favorites:changed', renderFavorites);\n\n// ========================\n// Init\n// ========================\ndocument.addEventListener('DOMContentLoaded', () => {\n  loadFavoriteQuote();\n  renderFavorites();\n});\n"],"names":["path","home","fav","initRatingModal","initMobileMenu","LS_KEY","TRASH_SRC","listEl","rightEl","getFavs","raw","arr","saveFavs","removeFav","id","next","x","loadFavoriteQuote","textEl","authorEl","data","_a","api","_b","text","author","err","renderFavorites","favs","isEmpty","ex","trashBtn","card","openExerciseModal"],"mappings":"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"}